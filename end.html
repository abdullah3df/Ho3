<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>جزاك الله خيرًا</title>
<meta name="theme-color" content="#0f1c1a">
<style>
  :root{
    --bg:#0e1716;--bg2:#0f201e;--card:#0f2321;--edge:#163b36;
    --text:#eef8f6;--muted:#a8c9c2;--btn1:#1cc46f;--btn2:#0fa563;
  }
  *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
  body{margin:0;min-height:100dvh;display:grid;place-items:center;
       background:
        radial-gradient(1200px 600px at 10% -10%, #154d45 0%, transparent 60%),
        radial-gradient(1000px 500px at 110% 10%, #0a3b35 0%, transparent 55%),
        linear-gradient(180deg,var(--bg),var(--bg2));
       color:var(--text);font-family:system-ui,-apple-system,"Segoe UI",Arial;overflow-x:hidden}
  .wrap{width:min(96vw,880px);padding:24px}
  .card{background:linear-gradient(180deg,#0f2422,var(--card));
        border:1px solid var(--edge);border-radius:26px;padding:26px;
        box-shadow:0 24px 60px rgba(0,0,0,.45);text-align:center}
  h1{margin:0 0 10px;font-weight:900;font-size:clamp(1.2rem,3vw,1.5rem)}
  .muted{color:var(--muted)}
  .bigShare{margin:14px auto 10px;width:min(78vw,280px);height:min(78vw,280px);border-radius:50%;border:none;
            display:grid;place-items:center;background:linear-gradient(145deg,var(--btn1),var(--btn2));color:#fff;font-weight:900;cursor:pointer;
            box-shadow:12px 12px 22px rgba(10,59,39,.75),-12px -12px 22px rgba(31,214,128,.2),inset 8px 8px 16px rgba(0,0,0,.35),inset -8px -8px 16px rgba(255,255,255,.07)}
  .visits{margin:8px 0 16px;color:var(--muted)}
  .ads{width:100%;display:grid;place-items:center;margin-top:12px}
  .ad-box{width:300px;height:250px;background:rgba(255,255,255,.06);border:1px dashed #2f5e57;border-radius:12px;
          display:grid;place-items:center;color:#bfe6de;font-weight:700}
  a.back{display:inline-block;margin-top:10px;color:#a8c9c2}
  .confetti{position:fixed;inset:0;pointer-events:none;overflow:hidden;z-index:9999}
  .paper{position:absolute;width:8px;height:14px;border-radius:2px;opacity:.9;animation:fall 3.2s linear forwards}
  @keyframes fall{0%{transform:translateY(-10vh) rotate(0)}100%{transform:translateY(110vh) rotate(720deg)}}
</style>
</head>
<body>
  <main class="wrap">
    <section class="card">
      <h1>جزاك الله خيرًا</h1>
      <p class="visits">زائروا الصفحة: <b id="visitors">—</b></p>
      <button id="shareBtn" class="bigShare">📤 شارك الأجر على واتساب</button>

      <!-- مساحة إعلانية -->
      <div class="ads">
        <div class="ad-box" id="ad-space">مساحة إعلانية 300×250</div>
      </div>

      <!-- وسيلة تواصل للإعلانات -->
      <div style="margin-top: 16px; font-size: 16px; color:#cfe7e2;">
        📩 للإعلانات والتواصل:
        <a href="mailto:abd30.3000@gmail.com" style="color:#7fd1ff;text-decoration:none">abd30.3000@gmail.com</a>
      </div>

      <a class="back" href="index.html">↩ العودة لصفحة البداية</a>
    </section>
  </main>

  <div id="confetti" class="confetti"></div>

<script>
(() => {
  const SHARE_URL = "https://share.google/y1S9s1xfewux5ikaA";
  const confettiLayer = document.getElementById('confetti');
  const visitorsEl = document.getElementById('visitors');

  document.getElementById('shareBtn').addEventListener('click', () => {
    window.open("https://wa.me/?text=" + encodeURIComponent(SHARE_URL), "_blank", "noopener");
  });

  runConfetti(160, 3200);
  updateVisitors();

  async function updateVisitors(){
    try{
      const r = await fetch('https://api.countapi.xyz/hit/tasbih-app/main-page-visitors',{cache:'no-store'});
      const d = await r.json();
      visitorsEl.textContent = (typeof d.value==='number') ? d.value.toLocaleString('ar-EG') : "—";
    }catch(e){ visitorsEl.textContent = "—"; }
  }

  function runConfetti(amount=120, duration=3000){
    confettiLayer.innerHTML = ""; confettiLayer.style.display = 'block';
    const colors = ["#fff176","#ffd54f","#ff8a65","#4dd0e1","#aed581","#ba68c8","#f06292","#fff"];
    const W = innerWidth, H = innerHeight;
    for(let i=0;i<amount;i++){
      const p = document.createElement('div');
      p.className = 'paper';
      p.style.left = (Math.random()*W) + 'px';
      p.style.top  = (-20 - Math.random()*H*0.3) + 'px';
      p.style.background = colors[(Math.random()*colors.length)|0];
      p.style.animationDelay = (Math.random()*0.8)+'s';
      p.style.transform = `translateY(-10vh) rotate(${Math.random()*360}deg)`;
      confettiLayer.appendChild(p);
    }
    setTimeout(()=>{ confettiLayer.style.display='none'; confettiLayer.innerHTML=""; }, duration);
  }
})();
</script>
</body>
</html>
